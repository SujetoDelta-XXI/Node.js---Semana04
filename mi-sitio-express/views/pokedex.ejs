<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pokédex</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
</head>
<body class="red lighten-5">

  <!-- Navbar -->
  <nav class="red darken-3">
    <div class="nav-wrapper container">
      <a href="/" class="brand-logo white-text">Pokédex</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="/" class="white-text">Inicio</a></li>
        <li><a href="/pokedex" class="white-text">Pokédex</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <h3 class="red-text text-darken-3">Registrar Pokémon</h3>
    
    <form action="/pokedex" method="POST" class="card-panel white">
      <div class="input-field">
        <input type="text" name="nombre" id="nombre" required>
        <label for="nombre">Nombre</label>
      </div>

      <div class="input-field">
        <input type="text" name="tipo" id="tipo" required>
        <label for="tipo">Tipo</label>
      </div>

      <div class="input-field">
        <input type="number" step="0.1" name="peso" id="peso" required>
        <label for="peso">Peso (kg)</label>
      </div>

      <div class="input-field">
        <select name="shiny" required>
          <option value="No">No</option>
          <option value="Sí">Sí</option>
        </select>
        <label>Shiny</label>
      </div>

      <div class="input-field">
        <select name="oscuro" required>
          <option value="No">No</option>
          <option value="Sí">Sí</option>
        </select>
        <label>Oscuro</label>
      </div>

      <div class="input-field">
        <input type="text" name="imagen" id="imagen" required>
        <label for="imagen">URL de la Imagen</label>
      </div>

      <button type="submit" class="btn red darken-3 white-text">Guardar</button>
    </form>

    <h3 class="red-text text-darken-3">Lista de Pokémon</h3>

    <table class="highlight centered responsive-table white">
      <thead class="red darken-3 white-text">
        <tr>
          <th>Nombre</th>
          <th>Tipo</th>
          <th>Peso</th>
          <th>Shiny</th>
          <th>Oscuro</th>
          <th>Imagen</th>
        </tr>
      </thead>
      <tbody>
        <% if (pokedex.length === 0) { %>
          <tr>
            <td colspan="6">No hay Pokémon registrados.</td>
          </tr>
        <% } else { %>
          <% pokedex.forEach(p => { %>
            <tr>
              <td><%= p.nombre %></td>
              <td><%= p.tipo %></td>
              <td><%= p.peso %> kg</td>
              <td><%= p.shiny %></td>
              <td><%= p.oscuro %></td>
              <td><img src="<%= p.imagen %>" alt="<%= p.nombre %>" width="60"></td>
            </tr>
          <% }) %>
        <% } %>
      </tbody>
    </table>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('select');
      M.FormSelect.init(elems);
    });
  </script>
</body>
</html>
